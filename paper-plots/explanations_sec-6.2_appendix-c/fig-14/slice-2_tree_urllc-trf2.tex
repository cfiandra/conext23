\documentclass[tikz,multi,border=1pt]{standalone}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath,amssymb,mathtools,microtype}
\usepackage[edges]{forest}

\usetikzlibrary{arrows.meta,
	backgrounds,
	calc,
	decorations.pathreplacing,
	positioning,
	shapes.arrows, shapes.geometric,
	shadows,shadows.blur}

\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepgfplotslibrary{colormaps}

% IEEE
%\renewcommand{\sfdefault}{phv}
%\renewcommand{\rmdefault}{ppl}
%\renewcommand{\ttdefault}{pcr}
%\usepackage{mathptmx}

% ACM
\usepackage[tt=false, type1=true]{libertine}
\usepackage[varqu]{zi4}
\usepackage[libertine]{newtxmath}

\tikzset{%
	fill-color/.style={
		color of colormap={#1},
		draw=.!80!black,
		fill=.!80!white,
		text=black
	},
	fill-color-opacity/.style={
		fill-color={#1},
		fill opacity = 0.2
	},
	/pgfplots/colormap/viridis
}

% Code from Christian Feuers√§nger
% http://tex.stackexchange.com/questions/54794/using-a-pgfplots-style-legend-in-a-plain-old-tikzpicture#54834

% argument #1: any options
\newenvironment{customlegend}[1][]{%
	\begingroup
	% inits/clears the lists (which might be populated from previous
	% axes):
	\csname pgfplots@init@cleared@structures\endcsname
	\pgfplotsset{#1}%
}{%
	% draws the legend:
	\csname pgfplots@createlegend\endcsname
	\endgroup
}%

% makes \addlegendimage available (typically only available within an
% axis environment):
\def\addlegendimage{\csname pgfplots@addlegendimage\endcsname}

%%--------------------------------

% definition to insert numbers
\pgfkeys{/pgfplots/number in legend/.style={%
		/pgfplots/legend image code/.code={%
			\node at (0.295,-0.0225){#1};
		},%
	},
}

\pgfplotsset{
	vm type/.style={
		legend image code/.code={%
			\node[draw, fill=white,inner sep=1pt] at (0,0) {#1};
		}
	},
}


\begin{document}
\begin{forest}
	for tree={%
		rounded corners,
		minimum width=9em,
		minimum height=4ex,
		edge={-Latex},
		font=\sffamily,
		text centered,
		align=center,
		draw,
		fit=tight,
%		forked edges,
%		for children={l sep-=3em,
%			l-=1ex}
},
[dl\_buffer $\leq 32.475$\\ {gini = 0.708} \\ {samples = 62}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6, tikz = {\node[font=\large] at (3.75,-1.55) {False};\node[font=\large] at (-3.75,-1.55) {True};}
  [dl\_buffer $\leq 17.015$\\ {gini = 0.725} \\ {samples = 53}\\ {class = Distinct}, fill-color=700
    [dl\_buffer $\leq -18.81$\\ {gini = 0.731} \\ {samples = 47}\\  {class = Same-PRB}, fill-color=150, fill opacity=0.6,
      [tx\_bitrate $\leq -0.015$\\ {gini = 0.628} \\ {samples = 11}\\ {class = Same-Sched.}, fill-color-opacity=450
        [{gini = 0.0} \\ {samples = 2}\\ {class = Distinct}, fill-color=700]
        [dl\_buffer $\leq -34.015$\\ {gini = 0.593} \\ {samples = 9}\\ {class = Same-Sched.}, fill-color-opacity=450
          [tx\_bitrate $\leq 0.01$\\ {gini = 0.444} \\ {samples = 3}\\ {class = Distinct}, fill-color=700
             [{gini = 0.0} \\ {samples = 2}\\ {class = Distinct}, fill-color=700]
             [{gini = 0.0} \\ {samples = 1}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
          ]
          [tx\_bitrate $\leq -0.005$\\ {gini = 0.278} \\ {samples = 6}\\ {class = Same-Sched.}, fill-color-opacity=450
            [dl\_buffer $\leq 24.32$\\ {gini = 0.278} \\ {samples = 3}\\  {class = Same-Sched.}, fill-color-opacity=450
              [{gini = 0.0} \\ {samples = 1}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
              [{gini = 0.0} \\ {samples = 2}\\ {class = Same-Sched.}, fill-color-opacity=450]
            ]
            [{gini = 0.0} \\ {samples = 3}\\ {class = Same-Sched.}, fill-color-opacity=450]
          ]
        ]
      ]
      [dl\_buffer $\leq -12.385$\\ {gini = 0.711} \\ {samples = 36}\\  {class = Same-PRB}, fill-color=150, fill opacity=0.6,
        [{gini = 0.0} \\ {samples = 4}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
        [dl\_buffer $\leq -7.695$\\ {gini = 0.74} \\ {samples = 32}\\  {class = Same-PRB}, fill-color=150, fill opacity=0.6,
          [dl\_buffer $\leq 1.685$\\ {gini = 0.733} \\ {samples = 24}\\ {class = Distinct}, fill-color=700
            [dl\_buffer $\leq -0.87$\\ {gini = 0.71} \\ {samples = 18}\\ {class = Self}, fill-color=950
              [tx\_bitrate $\leq 0.005$\\ {gini = 0.642
              } \\ {samples = 9}\\ {class = Distinct}, fill-color=700
                [dl\_buffer $\leq -3.155$\\ {gini = 0.5
                } \\ {samples = 6}\\ {class = Distinct}, fill-color=700
                  [tx\_bitrate $\leq -0.005$\\ {gini = 0.642
                  } \\ {samples = 5}\\ {class = Distinct}, fill-color=700
                    [dl\_buffer $\leq -5.04$\\ {gini = 0.5
                    } \\ {samples = 2}\\ {class = Same-Sched.}, fill-color-opacity=450
                      [{gini = 0.0} \\ {samples = 1}\\ {class = Same-Sched.}, fill-color-opacity=450]
                      [{gini = 0.0} \\ {samples = 1}\\ {class = Distinct}, fill-color=700]
                	]
                    [{gini = 0.0} \\ {samples = 3}\\ {class = Distinct}, fill-color=700]
              	  ]
                  [{gini = 0.0} \\ {samples = 1}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
                ]
                [dl\_buffer $\leq -6.18$\\ {gini = 0.444} \\ {samples = 3}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6
                  [{gini = 0.0} \\ {samples = 1}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
                  [dl\_buffer $\leq -4.98$\\ {gini = 0.5} \\ {samples = 2}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6
                    [{gini = 0.0} \\ {samples = 1}\\ {class = Same-Sched.}, fill-color-opacity=450]
                    [{gini = 0.0} \\ {samples = 1}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
                  ]
                ]
              ]
              [tx\_bitrate $\leq -0.01$\\ {gini = 0.346} \\ {samples = 9}\\ {class = Self}, fill-color=950
                [{gini = 0.0} \\ {samples = 1}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
                [dl\_buffer $\leq 0.68$\\ {gini = 0.219} \\ {samples = 8}\\ {class = Self}, fill-color=950
                  [{gini = 0.0} \\ {samples = 8}\\ {class = Self}, fill-color=950]
                  [{gini = 0.0} \\ {samples = 1}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
                ]
              ]
            ]
            [tx\_bitrate $\leq -0.02$\\ {gini = 0.444} \\ {samples = 6}\\ {class = Distinct}, fill-color=700
              [{gini = 0.0} \\ {samples = 1}\\ {class = Distinct}, fill-color=700]
              [dl\_buffer $\leq 5.525$\\ {gini = 0.48} \\ {samples = 5}\\ {class = Distinct}, fill-color=700
                [dl\_buffer $\leq 3.51$\\ {gini = 0.375} \\ {samples = 4}\\ {class = Distinct}, fill-color=700
                  [dl\_buffer $\leq 2.63$\\ {gini = 0.5} \\ {samples = 2}\\ {class = Same-Sched.}, fill-color-opacity=450
                    [{gini = 0.0} \\ {samples = 1}\\  {class = Distinct}, fill-color=700]
                    [{gini = 0.0} \\ {samples = 1}\\  {class = Same-Sched.}, fill-color-opacity=450]
                  ]
                  [{gini = 0.0} \\ {samples = 2}\\  {class = Distinct}, fill-color=700]
                ]
                [{gini = 0.0} \\ {samples = 1}\\  {class = Same-Sched.}, fill-color-opacity=450]
              ]
            ]
          ]
          [tx\_bitrate $\leq -0.02$\\ {gini = 0.531} \\ {samples = 8}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6
             [{gini = 0.0} \\ {samples = 1}\\ {class = Same-Sched.}, fill-color-opacity=450]
             [dl\_buffer $\leq 11.635$\\ {gini = 0.449} \\ {samples = 7}\\  {class = Same-PRB}, fill-color=150, fill opacity=0.6,
               [{gini = 0.0} \\ {samples = 3}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
               [tx\_bitrate $\leq -0.005$\\ {gini = 0.625} \\ {samples = 4}\\  {class = Same-PRB}, fill-color=150, fill opacity=0.6,
                 [{gini = 0.0} \\ {samples = 1}\\ {class = Distinct}, fill-color=700]
                 [dl\_buffer $\leq 12.385$\\ {gini = 0.444} \\ {samples = 3}\\  {class = Same-PRB}, fill-color=150, fill opacity=0.6,
                   [{gini = 0.0} \\ {samples = 1}\\ {class = Same-Sched.}, fill-color-opacity=450]
                   [{gini = 0.0} \\ {samples = 2}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
                 ]
               ]
             ]
          ]
        ]
      ]
    ]
    [dl\_buffer $\leq 24.32$\\ {gini = 0.278} \\ {samples = 6}\\ {class = Distinct}, fill-color=700
      [{gini = 0.0} \\ {samples = 4}\\ {class = Distinct}, fill-color=700]
      [tx\_bitrate $\leq 0.005$\\ {gini = 0.5} \\ {samples = 2}\\ {class = Same-Sched.}, fill-color-opacity=450
        [{gini = 0.0} \\ {samples = 1}\\ {class = Distinct}, fill-color=700]
        [{gini = 0.0} \\ {samples = 1}\\ {class = Same-Sched.}, fill-color-opacity=450]
      ]
    ]
  ]
  [dl\_buffer $\leq 62.41$\\ {gini = 0.346} \\ {samples = 9}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6
    [{gini = 0.0} \\ {samples = 6}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
    [tx\_bitrate $\leq -0.015$\\ {gini = 0.444} \\ {samples = 3}\\ {class = Distinct}, fill-color=700
      [{gini = 0.0} \\ {samples = 1}\\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
      [{gini = 0.0} \\ {samples = 2}\\ {class = Distinct}, fill-color=700]
    ]
  ]
]
%  [tx\_bitrate $\leq -1.035$\\ {gini = 0.375} \\ {samples = 4} \\ {class = Same-PRB}, fill-color=150, fill opacity=0.6
%    [{gini = 0.0} \\ {samples = 1} \\ {class = Same-Sched.}, fill-color-opacity=450]
%    [{gini = 0.375} \\ {samples = 3} \\ {class = Same-PRB}, fill-color=150, fill opacity=0.6]
%  ]
%  [tx\_packets $\leq 56.76$\\ {gini = 0.381} \\ {samples = 17} \\ {class = Distinct}, fill-color=700
%  	[tx\_bitrate $\leq -0.005$\\ {gini = 0.305} \\ {samples = 16} \\ {class = Distinct}, fill-color=700
%  	  [{gini = 0.0} \\ {samples = 8} \\ {class = Distinct}, fill-color=700]
%  	  [tx\_bitrate $\leq 0.005$\\ {gini = 0.469} \\ {samples = 8} \\ {class = Distinct}, fill-color=700
%  	    [{gini = 0.0} \\ {samples = 3} \\ {class = Self}, fill-color=950]
%  	    [{gini = 0.0} \\ {samples = 5} \\ {class = Distinct}, fill-color=700]
%  	  ]
%  	]
%  	[{gini = 0.0} \\ {samples = 1} \\ {class = Same-Sched.}, fill-color-opacity=450], 
%  ]
%]
\end{forest}
%tikz = {%
%	\begin{customlegend}[
%		legend entries={ % <= in the following there are the entries
%			Same-PRB,
%			Same-Sched.,
%			Distinct,
%			Self
%		},
%		colormap/viridis,
%		legend columns=1,
%		legend cell align=left,
%		legend style={at={(-3.65,-8.75)},font=\large, text height=1.5ex,/tikz/every even column/.append style={column sep=1em},draw,inner sep=1pt}] % <= to define position and font legend
%		% the following are the "images" and numbers in the legend
%		\addlegendimage{fill-color=150,area legend}
%		\addlegendimage{fill-color-opacity=450, area legend}
%		\addlegendimage{fill-color=700, area legend}
%		\addlegendimage{fill-color=950, area legend}
%	\end{customlegend}  	
%}
\end{document}